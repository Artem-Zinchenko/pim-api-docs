<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8">
    <title>Get started!</title>
    <meta name="description" content="Description">
    <meta name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0">
    <script type="text/javascript" src="js/jquery.min.js"></script>
    <script src='js/bootstrap.min.js' type='text/javascript'></script>
    <link rel="stylesheet" href="css/variables.css">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="icon" type="image/png" href="img/akene36.png">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.css" />
  </head>
  <body>
    <nav class="navbar navbar-default navbar-fixed-top">
      <div class="container-fluid">
        <div class="navbar-header">
          <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1" aria-expanded="false">
          <span class="sr-only">Toggle navigation</span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          <span class="icon-bar"></span>
          </button>
          <a class="navbar-brand" href="/"><img alt="Akeneo" src="img/akene.png" width="50"></a>
          <p class="navbar-text">Akeneo Web API</p>
        </div>
        <div class="collapse navbar-collapse" id="bs-example-navbar-collapse-1">
          <ul class="nav navbar-nav navbar-right">
            <li class="active dropdown">
              <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-haspopup="true" aria-expanded="false">Getting started <span class="caret"></span></a>
              <ul class="dropdown-menu">
                <li><a href="/getting-started.html">Make my first request</a></li>
                <li><a href="/getting-started-admin.html">Manage the access to the API</a></li>
              </ul>
            </li>
            <li><a href="/documentation.html">Documentation</a></li>
            <li><a href="/api-reference-index.html">API reference</a></li>
          </ul>
          <form class="navbar-form navbar-right">
            <div class="form-group">
              <input id="algolia-search" class="form-control" placeholder="Search whole doc">
            </div>
          </form>
        </div>
      </div>
    </nav>
    <div class="container">
      <div class="row">
        <div class="col-md-offset-2 col-md-8 col-xs-offset-1 col-xs-11">
          <h1>Want to manage the access to the web API?</h1>
          <em>These simple steps will guide you and at the end, you will be able to grant access to the API to Peter, your favorite integrator!</em>
          <div class="row">
            <div class="col-xs-12">
              <div class="panel panel-picto panel-default panel-getting-started">
                <svg viewBox="0 0 100 100">
                  <use xlink:href="img/icons.svg#lock"></use>
                </svg>
                <div class="panel-body">
                  <h3 class="picto">Prerequisites</h3>
                  <h4><i class="fa fa-check-square"></i> An Akeneo PIM is already installed</h4>
                  <p>This can seems pretty obvious. But yeah ! You will need a PIM already installed if you want to manage any access to this PIM.</p><br>
                  <h4><i class="fa fa-check-square"></i> You are the administrator of the Akeneo PIM</h4>
                  <p>You will need to have the rights to administrate the roles and users inside the PIM, so if you are the PIM administrator, it should be ok.</p><br>
                  <h4><i class="fa fa-check-square"></i> Peter, your favorite connector developer, is declared as a user in Akeneo PIM</h4>
                  <p>Peter wants to develop a new connector for your Akeneo PIM and this conector will be doing requests via the Web API.</p>
                  <p>If not already done, create a new user named <code>Peter</code> in Akeneo PIM.</p>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-1">
              <p class="panel-number">1</p>
            </div>
            <div class="col-xs-11">
              <div class="panel panel-default panel-getting-started">
                <div class="panel-body">
                  <h3 class="picto">Create a Web API dedicated role</h3>
                  <div class="row">
                    <div class="col-xs-12">
                      <p>Log in as administrator in your PIM. In the <code>System</code> code menu, select the <code>User management</code> menu, then click on the <code>Role</code> entry. From here, you should be able to create a role, click on <code>Create role</code>.</p>
                      <img class="img-responsive" src="img/create_a_role.png">
                      <p>Once in the role form, give a name to the role you are creating, <code>Whole API access</code> for instance.</p>
                      <p>Then go to the <code>Web API Permissions</code> tab and activate the access to the Web API by clicking on <code>Overall Web API access</code>.</p>
                      <img class="img-responsive" src="img/activate_api_access.png">
                      <p>To finish, save your role by clicking on the <code>Save</code> button.</p>
                      <p>Great! You now have a role ready to access to the Web API. Let's go to the next step!</p>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-1">
              <p class="panel-number">2</p>
            </div>
            <div class="col-xs-11">
              <div class="panel panel-default panel-getting-started">
                <div class="panel-body">
                  <h3 class="picto">Give to Peter the role that allows him to access to the Web API</h3>
                  <div class="row">
                    <div class="col-xs-12">
                      <p>So now you have your role dedicated to the access of the Web API, you can give this role to a set of users. In the form of this role, got to the <code>Users</code>tab, select the users for which you want to give the access. Below, for example, we give to our developer <code>Peter</code> the <code>Whole API access</code> role.</p>
                      <img class="img-responsive" src="img/peter_get_the_access.png"></img>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-1">
              <p class="panel-number">3</p>
            </div>
            <div class="col-xs-11">
              <div class="panel panel-default panel-getting-started">
                <div class="panel-body">
                  <h3 class="picto">Generate OAuth client id and secret</h3>
                  <div class="row">
                    <div class="col-xs-12">
                      <p>Having a user with a role giving access to the Web API is not enough to make requests via the Web API. Peter will ask you for OAuth client id and secret so as he can be authenticated.</p>
                      <p>Client is and secret are generated with the following command line.</p>
                      <pre class="hljs"><code>php bin/console pim:oauth-server:create-client \
    --grant-type=<span class="hljs-string">"password"</span> \
    --grant-type=<span class="hljs-string">"refresh_token"</span></code></pre>
                      <p>You will get something like:</p>
                      <pre class="hljs"><code>A new client has been added:
client_id: 4gm4rnoizp8gskgkk080ssoo80040g44ksowwgw844k44sc00s
secret: 5dyvo1z6y34so4ogkgksw88ookoows00cgoc488kcs8wk4c40s</code></pre>
                      <p>Give by any mean of your choice these credentials to Peter. And that's it! Thanks to it, he will be able to finally access the API. Have a look to the <a href="getting-started.html">Developer Getting started</a> to know how.</p>
                      <div class="alert alert-info">To revoke the access, you just have to run a single command line. To see how it's done, have a look at the <a href="documentation.html#security">Security</a> section of the documention.</div>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
          <div class="row">
            <div class="col-xs-12">
              <p class="lead text-center">That's it! Peter is now ready to build amazing tools for your Akeneo PIM!</p>
              <p class="text-center"><em>If you want to know more about managing the access to the web API, don't hesitate to</em></p>
              <div class="row">
                <div class="col-xs-offset-3 col-xs-6">
                  <a class="btn btn-akeneo btn-block">Browse our Security doc</a>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/docsearch.js/2/docsearch.min.js"></script>
    <script type="text/javascript"> docsearch({
    apiKey: '2d54ec0583367835496f9b24eb99de62',
    indexName: 'akeneo-api',
    inputSelector: '#algolia-search',
    debug: false // Set debug to true if you want to inspect the dropdown
    });
    </script>
  </body>
</html>